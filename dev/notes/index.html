<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Notes ·  </title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><a href="../index.html"><img class="logo" src="../assets/logo.png" alt="  logo"/></a><h1> </h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Introduction</a></li><li><a class="toctext" href="../simple_example/">Simple example</a></li><li><a class="toctext" href="../configuration/">Configuration</a></li><li><a class="toctext" href="../clientserver/">Client/Server</a></li><li><a class="toctext" href="../build/">Building</a></li><li class="current"><a class="toctext" href>Notes</a><ul class="internal"><li><a class="toctext" href="#Multi-threading-1">Multi-threading</a></li><li><a class="toctext" href="#Unix-socket-tips-and-tricks-1">Unix socket tips and tricks</a></li></ul></li><li><a class="toctext" href="../features/">Feature list</a></li><li><a class="toctext" href="../api/">API Reference</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Notes</a></li></ul><a class="edit-page" href="https://github.com/zgornel/Garamond.jl/blob/master/docs/src/notes.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Notes</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Notes-1" href="#Notes-1">Notes</a></h1><h2><a class="nav-anchor" id="Multi-threading-1" href="#Multi-threading-1">Multi-threading</a></h2><p>Using multi-threading in Garamond is not recommended as the feature is still experimental. If one chooses to use multi-threading i.e. through the <code>@threads</code> macro for example, the following steps need to be taken:</p><ul><li>export the following: <code>OPENBLAS_NUM_THREADS=1</code> and <code>JULIA_NUM_THREADS=&lt;n&gt;</code> where <code>n</code> is the number of threads desired</li><li>add the statement <code>Threads.@threads</code> in front of the main <code>for</code> loop of the top search function in <code>src/search.jl</code> (see appropriate comment in the code)</li></ul><div class="admonition warning"><div class="admonition-title">Warning</div><div class="admonition-text"><p>Using multi-threading might result in errors and other types of instable behavior. As of the current date (January 2019) seems to be safe. Please make sure you properly check the search behavior prior to running.</p></div></div><h2><a class="nav-anchor" id="Unix-socket-tips-and-tricks-1" href="#Unix-socket-tips-and-tricks-1">Unix socket tips and tricks</a></h2><p>The examples below assume the existence of a Unix socket at the location <code>/tmp/&lt;unix_socket&gt;</code> (the socket name is not specified).</p><ul><li>To redirect a TCP socket to a UNIX socket: <code>socat TCP-LISTEN:&lt;tcp_port&gt;,reuseaddr,fork UNIX-CLIENT:/tmp/&lt;unix_socket&gt;</code> or <code>socat TCP-LISTEN:&lt;tcp_port&gt;,bind=127.0.0.1,reuseaddr,fork,su=nobody,range=127.0.0.0/8 UNIX-CLIENT:/tmp/&lt;unix_socket&gt;</code></li><li>To send a query to a Garamond server (no reply, for debugging purposes): <code>echo &#39;find me a needle&#39; | socat - UNIX-CONNECT:/tmp/garamond/sockets/&lt;unix_socket&gt;</code></li><li>For interactive send/receive, <code>socat UNIX-CONNECT:/tmp/garamond/sockets/&lt;unix_socket&gt; STDOUT</code></li></ul><footer><hr/><a class="previous" href="../build/"><span class="direction">Previous</span><span class="title">Building</span></a><a class="next" href="../features/"><span class="direction">Next</span><span class="title">Feature list</span></a></footer></article></body></html>
