<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API Reference ·  </title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><a href="../index.html"><img class="logo" src="../assets/logo.png" alt="  logo"/></a><h1> </h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Introduction</a></li><li><a class="toctext" href="../simple_example/">Simple example</a></li><li><a class="toctext" href="../configuration/">Configuration</a></li><li><a class="toctext" href="../clientserver/">Client/Server</a></li><li><a class="toctext" href="../build/">Building</a></li><li><a class="toctext" href="../notes/">Notes</a></li><li><a class="toctext" href="../features/">Feature list</a></li><li class="current"><a class="toctext" href>API Reference</a><ul class="internal"></ul></li></ul></nav><article id="docs"><header><nav><ul><li><a href>API Reference</a></li></ul><a class="edit-page" href="https://github.com/zgornel/Garamond.jl/blob/master/docs/src/api.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>API Reference</span><a class="fa fa-bars" href="#"></a></div></header><ul><li><a href="#Garamond.ERRORED_REQUEST"><code>Garamond.ERRORED_REQUEST</code></a></li><li><a href="#Garamond.BruteTreeIndex"><code>Garamond.BruteTreeIndex</code></a></li><li><a href="#Garamond.HNSWIndex"><code>Garamond.HNSWIndex</code></a></li><li><a href="#Garamond.KDTreeIndex"><code>Garamond.KDTreeIndex</code></a></li><li><a href="#Garamond.NaiveIndex"><code>Garamond.NaiveIndex</code></a></li><li><a href="#Garamond.SearchConfig"><code>Garamond.SearchConfig</code></a></li><li><a href="#Garamond.build_corpus-Union{Tuple{T}, Tuple{S}, Tuple{Array{Array{S,1},1},Array{DocumentMetadata,1},Type{T}}} where T&lt;:StringAnalysis.AbstractDocument where S&lt;:AbstractString"><code>Garamond.build_corpus</code></a></li><li><a href="#Garamond.build_logger"><code>Garamond.build_logger</code></a></li><li><a href="#Garamond.build_searcher-Tuple{SearchConfig}"><code>Garamond.build_searcher</code></a></li><li><a href="#Garamond.construct_request-Tuple{HTTP.Messages.Request}"><code>Garamond.construct_request</code></a></li><li><a href="#Garamond.construct_response-Union{Tuple{C}, Tuple{Any,Any}} where C&lt;:StringAnalysis.Corpus"><code>Garamond.construct_response</code></a></li><li><a href="#Garamond.deconstruct_request-Tuple{String}"><code>Garamond.deconstruct_request</code></a></li><li><a href="#Garamond.detect_language-Tuple{AbstractString}"><code>Garamond.detect_language</code></a></li><li><a href="#Garamond.garamond_log_formatter-NTuple{6,Any}"><code>Garamond.garamond_log_formatter</code></a></li><li><a href="#Garamond.get_parsing_function-Tuple{Symbol,Union{Nothing, Dict},Bool,String,String,String,Bool,Int64,UInt32,Bool}"><code>Garamond.get_parsing_function</code></a></li><li><a href="#Garamond.load_search_configs-Tuple{AbstractString}"><code>Garamond.load_search_configs</code></a></li><li><a href="#Garamond.load_searchers-Tuple{Any}"><code>Garamond.load_searchers</code></a></li><li><a href="#Garamond.meta2sv-Union{Tuple{T}, Tuple{T}, Tuple{T,Any}} where T&lt;:StringAnalysis.DocumentMetadata"><code>Garamond.meta2sv</code></a></li><li><a href="#Garamond.prepare_query-Tuple{AbstractString,UInt32}"><code>Garamond.prepare_query</code></a></li><li><a href="#Garamond.printable_version-Tuple{}"><code>Garamond.printable_version</code></a></li><li><a href="#Garamond.recursive_glob"><code>Garamond.recursive_glob</code></a></li><li><a href="#Garamond.rest_server-Tuple{Integer,Channel{String}}"><code>Garamond.rest_server</code></a></li><li><a href="#Garamond.search-Union{Tuple{I}, Tuple{E}, Tuple{D}, Tuple{T}, Tuple{Searcher{T,D,E,I},Any}} where I&lt;:AbstractIndex where E where D&lt;:StringAnalysis.AbstractDocument where T&lt;:AbstractFloat"><code>Garamond.search</code></a></li><li><a href="#Garamond.search-Union{Tuple{A}, Tuple{E}, Tuple{NaiveIndex{E,A},AbstractArray{T,1} where T,Int64}, Tuple{NaiveIndex{E,A},AbstractArray{T,1} where T,Int64,Array{Int64,1}}} where A&lt;:AbstractArray{E,2} where E&lt;:AbstractFloat"><code>Garamond.search</code></a></li><li><a href="#Garamond.search-Union{Tuple{T}, Tuple{Array{#s346,1} where #s346&lt;:(Searcher{T,D,E,I} where I&lt;:AbstractIndex where E where D&lt;:AbstractDocument),Any}} where T&lt;:AbstractFloat"><code>Garamond.search</code></a></li><li><a href="#Garamond.search_heuristically!-Union{Tuple{T}, Tuple{S}, Tuple{MultiDict{String,Tuple{T,String}},BKTree{String},Array{S,1}}} where T&lt;:AbstractFloat where S&lt;:AbstractString"><code>Garamond.search_heuristically!</code></a></li><li><a href="#Garamond.search_server-Tuple{Any,Any}"><code>Garamond.search_server</code></a></li><li><a href="#Garamond.squash-Union{Tuple{T}, Tuple{Array{Array{T,1},1},Int64}} where T&lt;:AbstractFloat"><code>Garamond.squash</code></a></li><li><a href="#Garamond.squash-Union{Tuple{Array{T,2}}, Tuple{T}} where T&lt;:AbstractFloat"><code>Garamond.squash</code></a></li><li><a href="#Garamond.summarize-Union{Tuple{Array{S,1}}, Tuple{S}} where S&lt;:AbstractString"><code>Garamond.summarize</code></a></li><li><a href="#Garamond.unix_socket_server-Tuple{AbstractString,Channel{String}}"><code>Garamond.unix_socket_server</code></a></li><li><a href="#Garamond.updater-Union{Tuple{Array{S,1}}, Tuple{S}} where S&lt;:Searcher"><code>Garamond.updater</code></a></li><li><a href="#Garamond.version-Tuple{}"><code>Garamond.version</code></a></li><li><a href="#Garamond.web_socket_server-Tuple{UInt16,Channel{String}}"><code>Garamond.web_socket_server</code></a></li><li><a href="#StringAnalysis.embed_document-Union{Tuple{S2}, Tuple{H}, Tuple{T}, Tuple{S1}, Tuple{Union{WordVectors{S1,T,H}, WordVectors{S1,T,H}},Array{S2,1}}} where S2&lt;:AbstractString where H&lt;:Integer where T&lt;:Real where S1&lt;:AbstractString"><code>StringAnalysis.embed_document</code></a></li><li><a href="#StringAnalysis.embed_document-Union{Tuple{T}, Tuple{Union{ConceptNet{#s330,#s329,T} where #s329&lt;:AbstractString where #s330&lt;:Language, WordVectors{#s66,T,#s65} where #s65&lt;:Integer where #s66&lt;:AbstractString, WordVectors{#s328,T,#s67} where #s67&lt;:Integer where #s328&lt;:AbstractString},OrderedDict{String,Int64},Array{String,1}}} where T&lt;:AbstractFloat"><code>StringAnalysis.embed_document</code></a></li></ul><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.SearchConfig" href="#Garamond.SearchConfig"><code>Garamond.SearchConfig</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>The search engine configuration object <code>SearchConfig</code> is used in building search objects of type <code>Searcher</code> and to provide information about them to other methods.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/2048019182a890d49c39235bb54c2cfc5b3769d9/src/config/data.jl#L21-L25">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.load_searchers-Tuple{Any}" href="#Garamond.load_searchers-Tuple{Any}"><code>Garamond.load_searchers</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">load_searchers(configs)</code></pre><p>Loads/builds searchers using the information provided by <code>configs</code>. The latter can be either a path, a vector of paths to searcher configuration file(s) or a vector of <code>SearchConfig</code> objects.</p><p>Loading process flow:</p><ol><li>Parse configuration files using <code>load_search_configs</code> (if <code>configs</code> contains paths to configuration files)</li><li>The resulting <code>Vector{SearchConfig}</code> is passed to <code>load_searchers</code> (each <code>SearchConfig</code> contains the data filepath, parameters etc.)</li><li>Each searcher is build using <code>build_searcher</code> and a vector of searcher objects is returned.</li></ol></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/2048019182a890d49c39235bb54c2cfc5b3769d9/src/structs.jl#L95-L109">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.rest_server-Tuple{Integer,Channel{String}}" href="#Garamond.rest_server-Tuple{Integer,Channel{String}}"><code>Garamond.rest_server</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">rest_server(port::Integer, channel::Channel{String})</code></pre><p>Starts a bi-directional REST server that uses the HTTP port <code>port</code> and communicates with the search server through a channel <code>channel</code>.</p><p>Service GET link format:     <code>/api/v1/&lt;op&gt;/&lt;max_matches&gt;/&lt;search_method&gt;/&lt;max_suggestions&gt;/&lt;what_to_return&gt;/&lt;query&gt;</code> where:     &lt;op&gt; is fixed to <code>search</code>     &lt;max<em>matches&gt; is a number larger than 0     &lt;search</em>method&gt; is fixed to <code>exact</code>     &lt;max<em>suggestions&gt; is fixed to <code>0</code>     &lt;what</em>to_return&gt; is fixed to <code>json-index</code>     &lt;query&gt; can be any string</p><p>Example:     <code>http://localhost:port/api/v1/search/100/exact/0/json-index/something%20to%20search</code></p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/2048019182a890d49c39235bb54c2cfc5b3769d9/src/server/rest.jl#L35-L53">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.search-Union{Tuple{A}, Tuple{E}, Tuple{NaiveIndex{E,A},AbstractArray{T,1} where T,Int64}, Tuple{NaiveIndex{E,A},AbstractArray{T,1} where T,Int64,Array{Int64,1}}} where A&lt;:AbstractArray{E,2} where E&lt;:AbstractFloat" href="#Garamond.search-Union{Tuple{A}, Tuple{E}, Tuple{NaiveIndex{E,A},AbstractArray{T,1} where T,Int64}, Tuple{NaiveIndex{E,A},AbstractArray{T,1} where T,Int64,Array{Int64,1}}} where A&lt;:AbstractArray{E,2} where E&lt;:AbstractFloat"><code>Garamond.search</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">search(index, point, k)</code></pre><p>Searches for the <code>k</code> nearest neighbors of <code>point</code> in data contained in the <code>index</code>. The index may vary from a simple wrapper inside a matrix to more complex structures such as k-d trees, etc.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/2048019182a890d49c39235bb54c2cfc5b3769d9/src/index/vectorial.jl#L69-L75">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.search-Union{Tuple{I}, Tuple{E}, Tuple{D}, Tuple{T}, Tuple{Searcher{T,D,E,I},Any}} where I&lt;:AbstractIndex where E where D&lt;:StringAnalysis.AbstractDocument where T&lt;:AbstractFloat" href="#Garamond.search-Union{Tuple{I}, Tuple{E}, Tuple{D}, Tuple{T}, Tuple{Searcher{T,D,E,I},Any}} where I&lt;:AbstractIndex where E where D&lt;:StringAnalysis.AbstractDocument where T&lt;:AbstractFloat"><code>Garamond.search</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">search(srcher, query [;kwargs])</code></pre><p>Searches for query (i.e. key terms) in a corpus&#39; metadata, text or both and returns information regarding the the documents that match best the query. The function returns an object of type SearchResult and the id of the searcher.</p><p><strong>Arguments</strong></p><ul><li><code>srcher::Searcher</code> is the corpus searcher</li><li><code>query</code> the query, can be either a <code>String</code> or <code>Vector{String}</code></li></ul><p><strong>Keyword arguments</strong></p><ul><li><code>search_method::Symbol</code> controls the type of matching: <code>:exact</code>  searches for the very same string while <code>:regex</code> searches for a string  in the corpus that includes the needle</li><li><code>max_matches::Int</code> is the maximum number of search results to return</li><li><code>max_suggestions::Int</code> is the maximum number of suggestions to return for  each missing needle</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/2048019182a890d49c39235bb54c2cfc5b3769d9/src/search.jl#L79-L97">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.search-Union{Tuple{T}, Tuple{Array{#s346,1} where #s346&lt;:(Searcher{T,D,E,I} where I&lt;:AbstractIndex where E where D&lt;:AbstractDocument),Any}} where T&lt;:AbstractFloat" href="#Garamond.search-Union{Tuple{T}, Tuple{Array{#s346,1} where #s346&lt;:(Searcher{T,D,E,I} where I&lt;:AbstractIndex where E where D&lt;:AbstractDocument),Any}} where T&lt;:AbstractFloat"><code>Garamond.search</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">search(srcher, query [;kwargs])</code></pre><p>Searches for query (i.e. key terms) in multiple corpora and returns information regarding the documents that match best the query. The function returns the search results in the form of a <code>Vector{SearchResult}</code>.</p><p><strong>Arguments</strong></p><ul><li><code>srcher::Vector{Searcher}</code> is the corpora searcher</li><li><code>query</code> the query, can be either a <code>String</code> or <code>Vector{String}</code></li></ul><p><strong>Keyword arguments</strong></p><ul><li><code>search_method::Symbol</code> controls the type of matching: <code>:exact</code>  searches for the very same string while <code>:regex</code> searches for a string  in the corpus that includes the needle</li><li><code>max_matches::Int</code> is the maximum number of search results to return from  each corpus</li><li><code>max_suggestions::Int</code> is the maximum number of suggestions to return for  each missing needle from the search in a corpus</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/2048019182a890d49c39235bb54c2cfc5b3769d9/src/search.jl#L5-L25">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.unix_socket_server-Tuple{AbstractString,Channel{String}}" href="#Garamond.unix_socket_server-Tuple{AbstractString,Channel{String}}"><code>Garamond.unix_socket_server</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">unix_socket_server(socket::AbstractString, channel::Channel{String})</code></pre><p>Starts a bi-directional unix socket server that uses a UNIX-socket <code>socket</code> and communicates with the search server through a channel <code>channel</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/2048019182a890d49c39235bb54c2cfc5b3769d9/src/server/unixsocket.jl#L1-L6">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.web_socket_server-Tuple{UInt16,Channel{String}}" href="#Garamond.web_socket_server-Tuple{UInt16,Channel{String}}"><code>Garamond.web_socket_server</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">web_socket_server(port::UInt16, channel::Channel{String})</code></pre><p>Starts a bi-directional web socket server that uses a WEB-socket at port <code>port</code> and communicates with the search server through a channel <code>channel</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/2048019182a890d49c39235bb54c2cfc5b3769d9/src/server/websocket.jl#L1-L7">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.ERRORED_REQUEST" href="#Garamond.ERRORED_REQUEST"><code>Garamond.ERRORED_REQUEST</code></a> — <span class="docstring-category">Constant</span>.</div><div><div><p>Standard deconstructed request corresponding to an error request.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/2048019182a890d49c39235bb54c2cfc5b3769d9/src/server/requests.jl#L1-L3">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.BruteTreeIndex" href="#Garamond.BruteTreeIndex"><code>Garamond.BruteTreeIndex</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>BruteTree index type for storing text embeddings. It is a wrapper around a <code>BruteTree</code> NN structure and performs brute search using a distance-based similarity between vectors.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/2048019182a890d49c39235bb54c2cfc5b3769d9/src/index/vectorial.jl#L14-L18">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.HNSWIndex" href="#Garamond.HNSWIndex"><code>Garamond.HNSWIndex</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>HNSW index type for storing text embeddings. It is a wrapper around a <code>HierarchicalNSW</code> (Hierarchical Navigable Small Worlds [1]) NN graph structure and performs a very efficient search using a distance-based similarity between vectors. [1] Yu. A. Malkov, D.A. Yashunin &quot;Efficient and robust approximate nearest     neighbor search using Hierarchical Navigable Small World graphs&quot;     (https://arxiv.org/abs/1603.09320)</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/2048019182a890d49c39235bb54c2cfc5b3769d9/src/index/vectorial.jl#L44-L52">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.KDTreeIndex" href="#Garamond.KDTreeIndex"><code>Garamond.KDTreeIndex</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>K-D Tree index type for storing text embeddings. It is a wrapper around a <code>KDTree</code> NN structure and performs a more efficient search using a distance-based similarity between vectors.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/2048019182a890d49c39235bb54c2cfc5b3769d9/src/index/vectorial.jl#L29-L33">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.NaiveIndex" href="#Garamond.NaiveIndex"><code>Garamond.NaiveIndex</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>Naive index type for storing text embeddings. It is a wrapper around a matrix of embeddings and performs brute search using the cosine similarity between vectors.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/2048019182a890d49c39235bb54c2cfc5b3769d9/src/index/vectorial.jl#L4-L8">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.build_corpus-Union{Tuple{T}, Tuple{S}, Tuple{Array{Array{S,1},1},Array{DocumentMetadata,1},Type{T}}} where T&lt;:StringAnalysis.AbstractDocument where S&lt;:AbstractString" href="#Garamond.build_corpus-Union{Tuple{T}, Tuple{S}, Tuple{Array{Array{S,1},1},Array{DocumentMetadata,1},Type{T}}} where T&lt;:StringAnalysis.AbstractDocument where S&lt;:AbstractString"><code>Garamond.build_corpus</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">build_corpus(documents, metadata_vector, doctype)</code></pre><p>Builds a corpus of documents of type <code>doctype</code> using the data in <code>documents</code> and metadata from <code>metadata_vector</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/2048019182a890d49c39235bb54c2cfc5b3769d9/src/textutils.jl#L121-L126">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.build_logger" href="#Garamond.build_logger"><code>Garamond.build_logger</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">build_logger(logging_stream, log_level)</code></pre><p>Builds a logger using the stream and log<em>level provided. These should be coming from parsing the input arguments. The logging</em>stream can take the values:  • &quot;null&quot;: logs to <code>/dev/null</code>  • &quot;stdout&quot;: logs to standard output  • &quot;/path/to/existing/file&quot;: logs to an existing file  • &quot;/path/to/non-existing/file&quot;: creates the log file If no valid option is provided, the default stream is the standard output. The log level can take the values: &quot;debug&quot;, &quot;info&quot;, &quot;error&quot; and defaults to &quot;info&quot; if no valid option is provided.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/2048019182a890d49c39235bb54c2cfc5b3769d9/src/logging.jl#L1-L14">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.build_searcher-Tuple{SearchConfig}" href="#Garamond.build_searcher-Tuple{SearchConfig}"><code>Garamond.build_searcher</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">build_searcher(sconf::SearchConfig)</code></pre><p>Creates a Searcher from a searcher configuration <code>sconf</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/2048019182a890d49c39235bb54c2cfc5b3769d9/src/structs.jl#L122-L126">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.construct_request-Tuple{HTTP.Messages.Request}" href="#Garamond.construct_request-Tuple{HTTP.Messages.Request}"><code>Garamond.construct_request</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">construct_request(req::HTTP.Request)</code></pre><p>Constructs a Garamond JSON search request from a HTTP request <code>req</code>: extracts the link, parses it, builds a dictionary and transforms it to JSON.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/2048019182a890d49c39235bb54c2cfc5b3769d9/src/server/rest.jl#L1-L7">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.construct_response-Union{Tuple{C}, Tuple{Any,Any}} where C&lt;:StringAnalysis.Corpus" href="#Garamond.construct_response-Union{Tuple{C}, Tuple{Any,Any}} where C&lt;:StringAnalysis.Corpus"><code>Garamond.construct_response</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">construct_response(srchers, results, what [; kwargs...])</code></pre><p>Function that constructs a response for a Garamond client using the search <code>results</code>, data from <code>srchers</code> and specifier <code>what</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/2048019182a890d49c39235bb54c2cfc5b3769d9/src/server/requests.jl#L32-L37">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.deconstruct_request-Tuple{String}" href="#Garamond.deconstruct_request-Tuple{String}"><code>Garamond.deconstruct_request</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">deconstruct_request(request)</code></pre><p>Function that deconstructs a Garamond request received from a client into individual search engine operations and search parameters.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/2048019182a890d49c39235bb54c2cfc5b3769d9/src/server/requests.jl#L7-L12">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.detect_language-Tuple{AbstractString}" href="#Garamond.detect_language-Tuple{AbstractString}"><code>Garamond.detect_language</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">detect_language(text [; default=DEFAULT_LANGUAGE])</code></pre><p>Detects the language of a piece of <code>text</code>. Returns a language of type <code>Languages.Language</code>. If the text is empty of the confidence is low, return the <code>default</code> language.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/2048019182a890d49c39235bb54c2cfc5b3769d9/src/textutils.jl#L65-L71">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.garamond_log_formatter-NTuple{6,Any}" href="#Garamond.garamond_log_formatter-NTuple{6,Any}"><code>Garamond.garamond_log_formatter</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">garamond_log_formatter(level, _module, group, id, file, line)</code></pre><p>Garamond -specific log message formatter. Takes a fixed set of input arguments and returns the color, prefix and suffix for the log message.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/2048019182a890d49c39235bb54c2cfc5b3769d9/src/logging.jl#L52-L57">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.get_parsing_function-Tuple{Symbol,Union{Nothing, Dict},Bool,String,String,String,Bool,Int64,UInt32,Bool}" href="#Garamond.get_parsing_function-Tuple{Symbol,Union{Nothing, Dict},Bool,String,String,String,Bool,Int64,UInt32,Bool}"><code>Garamond.get_parsing_function</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">get_parsing_function(args...)</code></pre><p>Function that generates a parsing function from its input arguments and returns it.</p><p><strong>Arguments</strong></p><ul><li><code>parser::Symbol</code> is the name of the parser</li><li><code>parser_config::Union{Nothing, Dict}</code> can contain optional configuration data for the parser (for delimited parsers)</li><li><code>header::Bool</code> whether the file has a header or not (for delimited files only)</li><li><code>delimiter::String</code> the delimiting character (for delimited files only)</li><li><code>globbing_pattern::String</code> globbing pattern for gathering file lists from directories (for directory parsers only)</li><li><code>language::String</code> the plain English name of the language; use &quot;auto&quot; for</li></ul><p>document-level language autodetection</p><ul><li><code>build_summary::Bool</code> whether to use a summary instead of the full document (for directory parsers only)</li><li><code>summary_ns::Int</code> how many sentences to use in the summary (for directory parsers only)</li><li><code>summarization_strip_flags::UInt32</code> flags used to strip text before summarization (for directory parsers only)</li><li><code>show_progress::Bool</code> whether to show the progress when loading files</li></ul><p>Note: <code>parser</code> must be in the keys of the <code>PARSER_CONFIGS</code> constant. The name       of the data parsing function is created as: <code>:__parser_&lt;parser&gt;</code> so,       the function name <code>:__parser_delimited_format_1</code> corresponds to the       parser <code>:delimited_format_1</code>. The function must be defined apriori.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/2048019182a890d49c39235bb54c2cfc5b3769d9/src/config/data.jl#L360-L388">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.load_search_configs-Tuple{AbstractString}" href="#Garamond.load_search_configs-Tuple{AbstractString}"><code>Garamond.load_search_configs</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">load_search_configs(filename)</code></pre><p>Creates search configuration objects from a data configuration file specified by <code>filename</code>. The file name can be either an <code>AbstractString</code> with the path to the configuration file or a <code>Vector{AbstractString}</code> specifying multiple configuration file paths. The function returns a <code>Vector{SearchConfig}</code> that is used to build the <code>Searcher</code> objects.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/2048019182a890d49c39235bb54c2cfc5b3769d9/src/config/data.jl#L126-L134">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.meta2sv-Union{Tuple{T}, Tuple{T}, Tuple{T,Any}} where T&lt;:StringAnalysis.DocumentMetadata" href="#Garamond.meta2sv-Union{Tuple{T}, Tuple{T}, Tuple{T,Any}} where T&lt;:StringAnalysis.DocumentMetadata"><code>Garamond.meta2sv</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">meta2sv(metadata, fields=DEFAULT_METADATA_FIELDS)</code></pre><p>Turns the <code>metadata::DocumentMetadata</code> object&#39;s <code>fields</code> into a vector of strings, where the value of each field becomes an element in the resulting vector.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/2048019182a890d49c39235bb54c2cfc5b3769d9/src/textutils.jl#L23-L28">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.prepare_query-Tuple{AbstractString,UInt32}" href="#Garamond.prepare_query-Tuple{AbstractString,UInt32}"><code>Garamond.prepare_query</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">prepare_query(query, flags)</code></pre><p>Prepares the query for search (tokenization if the case), pre-processing.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/2048019182a890d49c39235bb54c2cfc5b3769d9/src/textutils.jl#L152-L156">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.printable_version-Tuple{}" href="#Garamond.printable_version-Tuple{}"><code>Garamond.printable_version</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">printable_version()</code></pre><p>Returns a pretty version string that includes the git commit and date.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/2048019182a890d49c39235bb54c2cfc5b3769d9/src/version.jl#L40-L44">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.recursive_glob" href="#Garamond.recursive_glob"><code>Garamond.recursive_glob</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">recursive_glob(pattern, path)</code></pre><p>Globs recursively all the files matching the pattern, at the given path.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/2048019182a890d49c39235bb54c2cfc5b3769d9/src/parsers/directory_formats.jl#L1-L5">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.search_heuristically!-Union{Tuple{T}, Tuple{S}, Tuple{MultiDict{String,Tuple{T,String}},BKTree{String},Array{S,1}}} where T&lt;:AbstractFloat where S&lt;:AbstractString" href="#Garamond.search_heuristically!-Union{Tuple{T}, Tuple{S}, Tuple{MultiDict{String,Tuple{T,String}},BKTree{String},Array{S,1}}} where T&lt;:AbstractFloat where S&lt;:AbstractString"><code>Garamond.search_heuristically!</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">search_heuristically!(suggestions, search_tree, needles [;max_suggestions=1])</code></pre><p>Searches in the search tree for partial matches of the <code>needles</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/2048019182a890d49c39235bb54c2cfc5b3769d9/src/search.jl#L149-L153">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.search_server-Tuple{Any,Any}" href="#Garamond.search_server-Tuple{Any,Any}"><code>Garamond.search_server</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">search_server(data_config_paths, io_channel)</code></pre><p>Search server for Garamond. It is a finite-state-machine that when called, creates the searchers i.e. search objects using the <code>data_config_paths</code> and the proceeds to looping continuously in order to:     • update the searchers regularly;     • receive requests from clients on the I/O channel     • call search and route responses back to the clients       through the I/O channel</p><p>Both searcher update and I/O communication are performed asynchronously.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/2048019182a890d49c39235bb54c2cfc5b3769d9/src/server/search_server.jl#L1-L14">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.squash-Union{Tuple{Array{T,2}}, Tuple{T}} where T&lt;:AbstractFloat" href="#Garamond.squash-Union{Tuple{Array{T,2}}, Tuple{T}} where T&lt;:AbstractFloat"><code>Garamond.squash</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">squash(m)</code></pre><p>Function that creates a single mean vector from a matrix <code>m</code> and performs some normalization operations as well.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/2048019182a890d49c39235bb54c2cfc5b3769d9/src/embeddings.jl#L4-L9">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.squash-Union{Tuple{T}, Tuple{Array{Array{T,1},1},Int64}} where T&lt;:AbstractFloat" href="#Garamond.squash-Union{Tuple{T}, Tuple{Array{Array{T,1},1},Int64}} where T&lt;:AbstractFloat"><code>Garamond.squash</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">squash(vv, m)</code></pre><p>Function that creates a single mean vector from a vector of vectors <code>vv</code> where each vector has a length <code>m</code> and performs some normalization operations as well.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/2048019182a890d49c39235bb54c2cfc5b3769d9/src/embeddings.jl#L17-L23">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.summarize-Union{Tuple{Array{S,1}}, Tuple{S}} where S&lt;:AbstractString" href="#Garamond.summarize-Union{Tuple{Array{S,1}}, Tuple{S}} where S&lt;:AbstractString"><code>Garamond.summarize</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">summarize(sentences [;ns=1, flags=DEFAULT_SUMMARIZATION_STRIP_FLAGS])</code></pre><p>Build a summary of the text&#39;s <code>sentences</code>. The resulting summary will be a <code>ns</code> sentence document; each sentence is pre-procesed using the <code>flags</code> option.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/2048019182a890d49c39235bb54c2cfc5b3769d9/src/textutils.jl#L85-L91">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.updater-Union{Tuple{Array{S,1}}, Tuple{S}} where S&lt;:Searcher" href="#Garamond.updater-Union{Tuple{Array{S,1}}, Tuple{S}} where S&lt;:Searcher"><code>Garamond.updater</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">updater(searchers, channel, update_interval)</code></pre><p>Function that regularly updates the <code>searchers</code> at each <code>update_interval</code> seconds, and puts the updates on the <code>channel</code> to be sent to the search server.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/2048019182a890d49c39235bb54c2cfc5b3769d9/src/update.jl#L18-L24">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Garamond.version-Tuple{}" href="#Garamond.version-Tuple{}"><code>Garamond.version</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">version()</code></pre><p>Returns the current Garamond version using the <code>Project.toml</code> and <code>git</code>. If the <code>Project.toml</code>, <code>git</code> are not available, the version defaults to an empty string.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/2048019182a890d49c39235bb54c2cfc5b3769d9/src/version.jl#L1-L7">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="StringAnalysis.embed_document-Union{Tuple{S2}, Tuple{H}, Tuple{T}, Tuple{S1}, Tuple{Union{WordVectors{S1,T,H}, WordVectors{S1,T,H}},Array{S2,1}}} where S2&lt;:AbstractString where H&lt;:Integer where T&lt;:Real where S1&lt;:AbstractString" href="#StringAnalysis.embed_document-Union{Tuple{S2}, Tuple{H}, Tuple{T}, Tuple{S1}, Tuple{Union{WordVectors{S1,T,H}, WordVectors{S1,T,H}},Array{S2,1}}} where S2&lt;:AbstractString where H&lt;:Integer where T&lt;:Real where S1&lt;:AbstractString"><code>StringAnalysis.embed_document</code></a> — <span class="docstring-category">Method</span>.</div><div><div><p>Function that embeds a document i.e. returns an embedding matrix, columns are word embeddings, using the <code>Word2Vec</code> or <code>Glowe</code> WordVectors object. The function has an identical signature as the one from the <code>ConceptnetNumberbatch</code> package.</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/2048019182a890d49c39235bb54c2cfc5b3769d9/src/embeddings.jl#L154-L159">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="StringAnalysis.embed_document-Union{Tuple{T}, Tuple{Union{ConceptNet{#s330,#s329,T} where #s329&lt;:AbstractString where #s330&lt;:Language, WordVectors{#s66,T,#s65} where #s65&lt;:Integer where #s66&lt;:AbstractString, WordVectors{#s328,T,#s67} where #s67&lt;:Integer where #s328&lt;:AbstractString},OrderedDict{String,Int64},Array{String,1}}} where T&lt;:AbstractFloat" href="#StringAnalysis.embed_document-Union{Tuple{T}, Tuple{Union{ConceptNet{#s330,#s329,T} where #s329&lt;:AbstractString where #s330&lt;:Language, WordVectors{#s66,T,#s65} where #s65&lt;:Integer where #s66&lt;:AbstractString, WordVectors{#s328,T,#s67} where #s67&lt;:Integer where #s328&lt;:AbstractString},OrderedDict{String,Int64},Array{String,1}}} where T&lt;:AbstractFloat"><code>StringAnalysis.embed_document</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">embed_document(embedder, lexicon, document [;
               embedding_method=DEFAULT_DOC2VEC_METHOD,
               isregex=false,
               sif_alpha=DEFAULT_SIF_ALPHA])</code></pre><p>Function to get from multiple sentences to a document embedding. The <code>embedding_method</code> option controls how multiple sentence embeddings are combined into a single document embedding. Avalilable options for <code>embedding_method</code>:     :bow - calculates document embedding as the mean of the sentence embeddings     :sif - smooth-inverse-frequency subtracts paragraph/phrase vector            from each sentence embedding</p></div></div><a class="source-link" target="_blank" href="https://github.com/zgornel/Garamond.jl/blob/2048019182a890d49c39235bb54c2cfc5b3769d9/src/embeddings.jl#L33-L46">source</a></section><footer><hr/><a class="previous" href="../features/"><span class="direction">Previous</span><span class="title">Feature list</span></a></footer></article></body></html>
